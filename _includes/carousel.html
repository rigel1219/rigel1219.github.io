<style>
  .carousel-wrapper {
    position: relative;
    max-width: 100%;
    margin: 20px auto;
  }
  .carousel-container {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox 스크롤바 숨김 */
  }
  .carousel-container::-webkit-scrollbar {
    display: none; /* Chrome/Safari 스크롤바 숨김 */
  }
  .carousel-slide {
    flex: 0 0 100%;
    scroll-snap-align: center;
    position: relative;
  }
  .carousel-slide img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    display: block;
    max-height: 500px; /* 너무 커지지 않게 제한 (원하면 수정 가능) */
    object-fit: contain; /* 비율 유지하며 칸에 맞춤 */
    background: #f5f5f5; /* 빈 공간 회색 배경 */
  }
  /* 화살표 버튼 디자인 */
  .carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    cursor: pointer;
    padding: 10px 15px;
    font-size: 18px;
    border-radius: 50%;
    z-index: 10;
    transition: background 0.3s;
  }
  .carousel-btn:hover {
    background: rgba(0, 0, 0, 0.8);
  }
  .carousel-btn.prev { left: 10px; }
  .carousel-btn.next { right: 10px; }
</style>

<div class="carousel-wrapper" id="carousel-{{ include.id }}">
  <button class="carousel-btn prev" onclick="moveCarousel('{{ include.id }}', -1)">&#10094;</button>
  
  <div class="carousel-container" id="container-{{ include.id }}">
    {% for img_path in include.images %}
      <div class="carousel-slide">
        <img src="{{ img_path | relative_url }}" alt="Slide image">
      </div>
    {% endfor %}
  </div>

  <button class="carousel-btn next" onclick="moveCarousel('{{ include.id }}', 1)">&#10095;</button>
</div>

<script>
  function moveCarousel(id, direction) {
    const container = document.getElementById('container-' + id);
    const scrollAmount = container.clientWidth * direction;
    container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
  }
</script>
